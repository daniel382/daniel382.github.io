(this["webpackJsonpme-tronome"]=this["webpackJsonpme-tronome"]||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/logo.8713ac94.svg"},15:function(e,t,n){e.exports=n.p+"static/media/004.c53dbf0d.mp3"},16:function(e,t,n){e.exports=n.p+"static/media/003.ec31a86b.mp3"},17:function(e,t,n){e.exports=n.p+"static/media/005.634adc65.mp3"},24:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(29),n(30),n(31);var s=n(9),u=n(10),d=n(20),f=n(11),m=n(3),h=n(21),b=n(1),p=n(2);function v(){var e=Object(b.a)(["\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n    height: 50px;\n"]);return v=function(){return e},e}function g(){var e=Object(b.a)(["\n    flex-direction: column;\n    justify-content: space-around;\n"]);return g=function(){return e},e}function w(){var e=Object(b.a)(["\n    justify-content: space-between;\n    flex-wrap: wrap;\n"]);return w=function(){return e},e}function E(){var e=Object(b.a)(["\n    height: 20%;\n"]);return E=function(){return e},e}function k(){var e=Object(b.a)(["\n    font-size: 5em;\n    align-self: center;\n    justify-self: center;\n    margin: 0 auto;\n"]);return k=function(){return e},e}function y(){var e=Object(b.a)(["\n    font-size: 2em;\n    margin: 0 auto;\n"]);return y=function(){return e},e}function O(){var e=Object(b.a)(["\n    width: 375px;\n    height: 100vh;\n    margin: 0 auto;\n    background-color: #343c42;\n    flex-direction: column;\n"]);return O=function(){return e},e}var j=p.a.div(O()),C=p.a.h2(y()),x=p.a.span(k()),S=p.a.div(E()),N=p.a.div(w()),B=p.a.div(g()),P=p.a.div(v());function D(){var e=Object(b.a)(["\n    border: 1px solid #de8603;\n    border-radius: 4px;\n    background-color: inherit;\n    color: #fff;\n    padding: .4em .6em;\n    width: 40px;\n    align-self: center;\n    margin-bottom: .5em;\n"]);return D=function(){return e},e}var M=p.a.button(D()),T=function(e){var t=e.children,n=e.action;return r.a.createElement(M,{onClick:n},t)};function z(){var e=Object(b.a)(["\n    height: 80px;\n    width: 80px;\n    border-radius: 50%;\n    border: none;\n    color: #fff;\n    background-color: #e20000;\n    font-size: 1.5em;\n    margin: auto;\n"]);return z=function(){return e},e}var W=p.a.button(z()),I=function(e){var t=e.icon,n=e.action;return r.a.createElement(W,{onClick:n},r.a.createElement("i",{className:"fas fa-".concat(t)}))},A=function(e){var t=e.audio,n=e.id;return r.a.createElement("audio",{id:n,src:t})};function J(){var e=Object(b.a)(["\n    height: 28px;\n    width: 28px;\n    border-radius: 50%;\n    background-color: ",";\n    margin: .2em .5em;\n    box-shadow: 0px 0px ","px #000 inset;\n"]);return J=function(){return e},e}var R=p.a.div(J(),(function(e){return e.color}),(function(e){return e.light?2:15})),U=function(e){var t=e.color,n=e.light;return r.a.createElement(R,{color:t,light:n})};function L(){var e=Object(b.a)(["\n    background-color: inherit;\n    border: none;\n    outline: none;\n    padding: .3em;\n    color: #fff;\n"]);return L=function(){return e},e}function $(){var e=Object(b.a)(["\n    font-size: 2em;\n"]);return $=function(){return e},e}function q(){var e=Object(b.a)(["\n    height: 45px;\n    margin-right: 5px;\n"]);return q=function(){return e},e}function F(){var e=Object(b.a)(["\n    height: 10%;\n    width: 100%;\n    padding: .5em 1em;\n    margin-bottom: .5em;\n    align-items: center;\n    justify-content: space-between;\n"]);return F=function(){return e},e}var G=p.a.div(F()),H=p.a.img(q()),K=p.a.h1($()),Q=p.a.button(L()),V=n(14),X=n.n(V),Y=function(e){var t=e.title,n=e.save;return r.a.createElement(G,null,r.a.createElement(K,null,r.a.createElement(H,{src:X.a,alt:"Me-tronome logo"}),t),n?r.a.createElement(Q,{onClick:n},r.a.createElement("i",{className:"fas fa-save"})):null)},Z=n(19);function _(){var e=Object(b.a)(["\n    text-align: center;\n    padding: .4em .2em;\n    width: 100%;\n    display: block;\n"]);return _=function(){return e},e}function ee(){var e=Object(b.a)(["\n    text-align: center;\n    padding: .4em .2em;\n    width: 100%;\n    display: block;\n"]);return ee=function(){return e},e}function te(){var e=Object(b.a)(["\n    flex-direction: column;\n    align-items: center;\n    width: 72%;\n    height: ","px;\n    overflow: ",";\n    position: absolute;\n    bottom: ","px;\n    background-color: #343c42;\n"]);return te=function(){return e},e}var ne=p.a.div(te(),(function(e){return e.open?250:32}),(function(e){return e.open?"auto":"hidden"}),(function(e){return e.open?"-80":0})),ae=p.a.div(ee()),re=p.a.div(_()),oe=function(e){for(var t=e.size,n=e.selected,o=e.action,i=[],c=1;c<=t;c++)i.push(c);var l=Object(a.useState)(!1),s=Object(Z.a)(l,2),u=s[0],d=s[1];return r.a.createElement(ne,{open:u},u?i.map((function(e,t){return r.a.createElement(re,{key:Math.pow(e,Math.random())*t,onClick:function(){return function(e){d(!1),o(e)}(e)}},e)})):r.a.createElement(ae,{onClick:function(){return d(!0)}},n))},ie=n(15),ce=n.n(ie),le=n(16),se=n.n(le),ue=n(17),de=n.n(ue),fe=n(18);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var he={name:"default",status:!1,bpm:60,beats:4,clicks:1,beatCounter:0,clickCounter:1,speed:"100%",timer:{status:!1,method:"time",tempo:"1m30s"},trainer:{status:!1,type:"increase",method:"bars",tempo:"16"}};function be(e){e<30?e=30:e>300&&(e=300),this.setState({bpm:e})}function pe(e){this.setState({beats:e})}function ve(e){this.setState({clicks:e})}function ge(e){var t=this,n=Date.now(),a=this.state,r=a.clicks,o=a.clickCounter;if(1!==r&&o!==r){var i=o+1;return this.b3.currentTime=0,this.b3.play(),this.setState({clickCounter:i}),setTimeout((function(){return t.playClicks(e)}),e-(Date.now()-n))}this.setState({clickCounter:1})}function we(){var e=this,t=Date.now(),n=this.state,a=n.bpm,r=n.beats,o=n.clicks,i=n.beatCounter,c=n.status;if(c){var l=i;if(l>=r||0===l?l=1:l++,1===l?(this.b1.currentTime=0,this.b1.play()):(this.b2.currentTime=0,this.b2.play()),o>1){var s=6e4/a/o;setTimeout((function(){return e.playClicks(s)}),s-(Date.now()-t))}return this.setState({beatCounter:l}),setTimeout((function(){return e.play(c)}),6e4/a-(Date.now()-t))}}function Ee(){var e=this.state,t=e.status,n=e.beatCounter;t?(t=!1,n=0):t=!0,this.setState({status:t,beatCounter:n},this.play)}function ke(){var e=this.state;e.beatCounter,e.clickCounter,e.status;var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(fe.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{beatCounter:0,clickCounter:1,status:!1});window.localStorage.setItem("default",JSON.stringify(t)),alert("Saved!")}var ye=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).b1=null,n.b2=null,n.b3=null,n.handleChange=be,n.handleBeats=pe,n.handleClicks=ve,n.play=we,n.playClicks=ge,n.startStop=Ee,n.save=ke,n.state=he,n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.startStop=n.startStop.bind(Object(m.a)(n)),n.play=n.play.bind(Object(m.a)(n)),n.playClicks=n.playClicks.bind(Object(m.a)(n)),n.save=n.save.bind(Object(m.a)(n)),n.handleBeats=n.handleBeats.bind(Object(m.a)(n)),n.handleClicks=n.handleClicks.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.b1=document.getElementById("beat-1"),this.b2=document.getElementById("beat-2"),this.b3=document.getElementById("beat-3");var e=JSON.parse(window.localStorage.getItem("default"))||he;this.setState(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.bpm,a=t.beats,o=t.clicks,i=t.beatCounter,c=t.status;return r.a.createElement(j,null,r.a.createElement(Y,{title:"Me-tronome",save:this.save}),r.a.createElement("div",{className:"row"},r.a.createElement(N,{className:"col"},function(){for(var e=[],t=1;t<=a;t++)1===t?e.push(r.a.createElement(U,{color:"#e20000",light:i===t,key:1*Math.pow(t,Math.random())*3})):e.push(r.a.createElement(U,{color:"#fd831a",light:i===t,key:1*Math.pow(t,Math.random())*3}));return e}())),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(C,null,"BPM"))),r.a.createElement(S,{className:"row"},r.a.createElement(B,{className:"col-4 column-d"},r.a.createElement(T,{action:function(){return e.handleChange(n-1)}},"-1"),r.a.createElement(T,{action:function(){return e.handleChange(n-5)}},"-5")),r.a.createElement("div",{className:"col-2"},r.a.createElement(x,null,n)),r.a.createElement(B,{className:"col-4 column-d"},r.a.createElement(T,{action:function(){return e.handleChange(n+1)}},"+1"),r.a.createElement(T,{action:function(){return e.handleChange(n+5)}},"+5"))),r.a.createElement("div",{className:"row"},r.a.createElement(P,{className:"col-2"},"Beats per bar",r.a.createElement(oe,{size:16,selected:a,action:this.handleBeats})),r.a.createElement(P,{className:"col-2"},"Clicks per beat",r.a.createElement(oe,{size:16,selected:o,action:this.handleClicks}))),r.a.createElement("div",{className:"row",style:{height:"50%"}},r.a.createElement("div",{className:"col"},r.a.createElement(I,{icon:c?"stop":"play",action:this.startStop})),r.a.createElement(A,{id:"beat-1",audio:ce.a}),r.a.createElement(A,{id:"beat-2",audio:se.a}),r.a.createElement(A,{id:"beat-3",audio:de.a})))}}]),t}(a.Component);i.a.render(r.a.createElement(ye,null),document.getElementById("app")),function(e){if("serviceWorker"in navigator){if(new URL("/metronome",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/metronome","/service-worker.js");c?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.f76595a7.chunk.js.map